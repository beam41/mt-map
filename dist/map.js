function t(t,e){return t*t+e*e}var e=4096,s=-128e4,i=-32e4,o=22e5,a=3340.6976;function n(t){return{mapPosition:{x:t.mapPosition.x,y:t.mapPosition.y},scaleY:t.scaleY,yaw:t.yaw,color:{hover:t.color.hover,selected:t.color.selected,point:t.color.point,arrowColor:t.color.arrowColor,outline:t.color.outline,label:t.color.label,labelOutline:t.color.labelOutline,gate:t.color.gate,gateSelected:t.color.gateSelected,gateHover:t.color.gateHover}}}function h(t){return{x:(t.x-s)/o*e,y:(t.y-i)/o*e}}function r(t){return t*(window.devicePixelRatio>2?window.devicePixelRatio/2:window.devicePixelRatio)}var l=()=>r(7.5),c=()=>{const t=l()+r(3);return t*t},d=class extends HTMLElement{static observedAttributes=["map","road"];groups={};hasTrack=!1;hasOneTrackOnly=!1;showWpWidth=!1;currentScale=1;offsetX=0;offsetY=0;isDragging=!1;isPointDragging=!1;lastX=0;lastY=0;mapCanvas=document.createElement("canvas");mapCanvasCtx=this.mapCanvas.getContext("2d");mapImage=new Image;mapLoaded=!1;roadImage=new Image;roadLoaded=!1;recenterButton=document.createElement("button");showWpWidthButton=document.createElement("button");zoomInButton=document.createElement("button");zoomOutButton=document.createElement("button");constructor(){super()}selectedPoint=void 0;selectedIndex=void 0;hoveredIndex=void 0;setPoints(t,e=!1){this.groups={},this.hasTrack=!1;let s=0,i=!1;if(Object.entries(t).forEach((([t,e])=>{e.hidden||(e.trackMode&&(this.hasTrack=!0,e.forceShowGate||(i=!0),s++),this.groups[t]={points:e.points.map((t=>({...t,mapPosition:h(t.position),color:{point:t.color?.point??e.color?.point??"#fff",hover:t.color?.hover??e.color?.hover??"#fff",selected:t.color?.selected??e.color?.selected??"#fff",arrowColor:t.color?.arrowColor??e.color?.arrowColor??"#F44336",outline:t.color?.outline??e.color?.outline??"#212121",label:t.color?.label??e.color?.label??"#fff",labelOutline:t.color?.labelOutline??e.color?.labelOutline??"#212121",gate:t.color?.gate??e.color?.gate??"#FDD835",gateSelected:t.color?.gateSelected??e.color?.gateSelected??"#FFEE58",gateHover:t.color?.gateHover??e.color?.gateHover??"#F57F17"}}))),trackMode:e.trackMode??!1,draggable:e.draggable??!1,lineColor:e.color?.line??"rgba(255,255,255,0.3)",forceShowGate:(e.trackMode&&e.forceShowGate)??!1,hoverable:e.hoverable??!0,selectable:e.selectable??!0})})),this.hasOneTrackOnly=1===s,i?this.showWpWidthButton.classList.remove("btn--hide"):this.showWpWidthButton.classList.add("btn--hide"),e&&(this.selectedIndex=void 0,this.selectedPoint=void 0),void 0!==this.selectedIndex){const[t,e]=this.selectedIndex;this.selectedPoint=n(this.groups[t].points[e])}}setSelectedPointYaw(t){this.selectedPoint&&(this.selectedPoint.yaw=t)}setSelectedPointsScaleY(t){this.selectedPoint&&(this.selectedPoint.scaleY=t)}setSelectedPointsPosition(t){this.selectedPoint&&(this.selectedPoint.mapPosition=h(t))}getCanvasPosition(t){return{x:t.x*this.currentScale+this.offsetX,y:t.y*this.currentScale+this.offsetY}}prevMapLoaded;prevRoadLoaded;prevOffsetX;prevOffsetY;prevCurrentScale;prevMapCanvasWidth;prevMapCanvasHeight;prevGroups;prevSelectedIndex;prevHoveredIndex;prevShowWpWidth;prevSelectedPointScaleY;prevSelectedPointYaw;prevSelectedPointPositionX;prevSelectedPointPositionY;stateChange(){const t=this.mapLoaded!==this.prevMapLoaded||this.roadLoaded!==this.prevRoadLoaded||this.offsetX!==this.prevOffsetX||this.offsetY!==this.prevOffsetY||this.currentScale!==this.prevCurrentScale||this.mapCanvas.width!==this.prevMapCanvasWidth||this.mapCanvas.height!==this.prevMapCanvasHeight||this.groups!==this.prevGroups||this.selectedIndex!==this.prevSelectedIndex||this.hoveredIndex!==this.prevHoveredIndex||this.showWpWidth!==this.prevShowWpWidth||this.selectedPoint?.scaleY!==this.prevSelectedPointScaleY||this.selectedPoint?.yaw!==this.prevSelectedPointYaw||this.selectedPoint?.mapPosition.x!==this.prevSelectedPointPositionX||this.selectedPoint?.mapPosition.y!==this.prevSelectedPointPositionY;return t&&(this.prevMapLoaded=this.mapLoaded,this.prevRoadLoaded=this.roadLoaded,this.prevOffsetX=this.offsetX,this.prevOffsetY=this.offsetY,this.prevCurrentScale=this.currentScale,this.prevMapCanvasWidth=this.mapCanvas.width,this.prevMapCanvasHeight=this.mapCanvas.height,this.prevGroups=this.groups,this.prevSelectedIndex=this.selectedIndex,this.prevHoveredIndex=this.hoveredIndex,this.prevShowWpWidth=this.showWpWidth,this.prevSelectedPointScaleY=this.selectedPoint?.scaleY,this.prevSelectedPointYaw=this.selectedPoint?.yaw,this.prevSelectedPointPositionX=this.selectedPoint?.mapPosition.x,this.prevSelectedPointPositionY=this.selectedPoint?.mapPosition.y),t}animationRequestId;drawMap=(t,s)=>{if(s||(this.animationRequestId=window.requestAnimationFrame(this.drawMap)),this.stateChange())if(this.mapCanvasCtx){if(this.mapCanvasCtx.lineJoin="round",this.mapCanvasCtx.fillStyle=" #375d87",this.mapCanvasCtx.fillRect(0,0,this.mapCanvas.width,this.mapCanvas.height),this.mapLoaded&&(this.mapCanvasCtx.imageSmoothingEnabled=!1,this.mapCanvasCtx.drawImage(this.mapImage,this.offsetX,this.offsetY,e*this.currentScale,e*this.currentScale)),this.roadLoaded&&(this.mapCanvasCtx.globalAlpha=.4,this.mapCanvasCtx.imageSmoothingEnabled=!0,this.mapCanvasCtx.drawImage(this.roadImage,this.offsetX+378.6512*this.currentScale,this.offsetY+(377.6512-175)*this.currentScale,a*this.currentScale,a*this.currentScale),this.mapCanvasCtx.globalAlpha=1),this.groups){const t=r(1.5),e=l(),s=r(20),i=r(15),o=r(3),a=r(.2),[n,h]=this.selectedIndex??[],[c,d]=this.hoveredIndex??[],p=Object.entries(this.groups);for(let r=0;r<p.length;r++){const[l,v]=p[r];if(v.trackMode){const t=this.getCanvasPosition(v.points[0].mapPosition);this.mapCanvasCtx.beginPath(),this.mapCanvasCtx.moveTo(t.x,t.y);for(let t=1;t<v.points.length;t++){const e=this.getCanvasPosition(v.points[t].mapPosition);this.mapCanvasCtx.lineTo(e.x,e.y)}this.mapCanvasCtx.strokeStyle=v.lineColor,this.mapCanvasCtx.lineWidth=o,this.mapCanvasCtx.stroke()}const m=this.showWpWidth||v.forceShowGate;for(let o=0;o<v.points.length;o++){const r=v.points[o],p=this.getCanvasPosition(r.mapPosition),u=m?r.color.gateSelected:r.color.selected,C=m?r.color.gate:r.color.point,g=m?r.color.gateHover:r.color.hover,x=l===n&&o===h&&v.selectable?u:l===c&&o===d&&v.hoverable?g:C;v.trackMode&&l===n&&o===h&&(this.mapCanvasCtx.globalAlpha=.6),this.drawPoint(r,p,x,r.color.outline,r.color.arrowColor,t,e,i,a,s,v.trackMode,m),this.mapCanvasCtx.globalAlpha=1}for(let s=0;s<v.points.length;s++){const i=v.points[s];if(i.label){const s=this.getCanvasPosition(i.mapPosition);this.drawLabel(s,t,e,i.label,i.color.label,i.color.labelOutline)}}if(v.draggable&&void 0!==this.selectedIndex&&this.selectedPoint){const o=this.selectedPoint,n=this.getCanvasPosition(this.selectedPoint.mapPosition);this.drawPoint(o,n,o.color.selected,o.color.outline,o.color.arrowColor,t,e,i,a,s,v.trackMode,m),o.label&&this.drawLabel(n,t,e,o.label,o.color.label,o.color.labelOutline)}}}}else console.error("mapCanvas not found")};drawPoint(t,s,i,a,n,h,r,l,c,d,p,v){if(p)if(v){const a=t.yaw??0,n=100*(t.scaleY??0)/o*e*this.currentScale,[h,r]=function(t,e,s){const i=(t.x+e.x)/2,o=(t.y+e.y)/2,a=Math.cos(s),n=Math.sin(s),h=t.x-i,r=t.y-o,l=e.x-i,c=e.y-o;return[{x:a*h+-n*r+i,y:n*h+a*r+o},{x:a*l+-n*c+i,y:n*l+a*c+o}]}({x:s.x,y:s.y-n/2},{x:s.x,y:s.y+n/2},a);this.mapCanvasCtx.beginPath(),this.mapCanvasCtx.moveTo(h.x,h.y),this.mapCanvasCtx.lineTo(r.x,r.y),this.mapCanvasCtx.strokeStyle=i,this.mapCanvasCtx.lineWidth=c*this.currentScale,this.mapCanvasCtx.stroke()}else{const e=t.yaw??0,i=d*Math.cos(e),o=d*Math.sin(e),a=s.x,h=s.y,r=s.x+i,c=s.y+o,p=Math.atan2(c-h,r-a);this.mapCanvasCtx.beginPath(),this.mapCanvasCtx.moveTo(r,c),this.mapCanvasCtx.lineTo(r-l*Math.cos(p-Math.PI/6),c-l*Math.sin(p-Math.PI/6)),this.mapCanvasCtx.lineTo(r-l*Math.cos(p+Math.PI/6),c-l*Math.sin(p+Math.PI/6)),this.mapCanvasCtx.closePath(),this.mapCanvasCtx.fillStyle=n,this.mapCanvasCtx.fill()}p&&v||(this.mapCanvasCtx.beginPath(),this.mapCanvasCtx.arc(s.x,s.y,r,0,2*Math.PI),this.mapCanvasCtx.fillStyle=i,this.mapCanvasCtx.fill(),this.mapCanvasCtx.strokeStyle=a,this.mapCanvasCtx.lineWidth=h,this.mapCanvasCtx.stroke())}drawLabel(t,e,s,i,o,a){this.mapCanvasCtx.font=`${Math.max(14,1.5*s)}px sans-serif`,this.mapCanvasCtx.textAlign="center",this.mapCanvasCtx.textBaseline="bottom",this.mapCanvasCtx.strokeStyle=a,this.mapCanvasCtx.fillStyle=o,this.mapCanvasCtx.lineWidth=2*e,this.mapCanvasCtx.strokeText(i,t.x,t.y-s-4),this.mapCanvasCtx.fillText(i,t.x,t.y-s-4)}zoomFit(){if(this.hasTrack&&this.hasOneTrackOnly&&this.groups){const t=Object.values(this.groups).find((t=>t.trackMode));if(t){let e=1/0,s=1/0,i=-1/0,o=-1/0;t.points.forEach((t=>{e=Math.min(t.mapPosition.x,e),s=Math.min(t.mapPosition.y,s),i=Math.max(t.mapPosition.x,i),o=Math.max(t.mapPosition.y,o)}));const a=i-e,n=o-s,h=(this.mapCanvas.width-256)/a,r=(this.mapCanvas.height-256)/n;if(h<r){this.currentScale=Math.min(50,h),this.offsetX=-e*this.currentScale+128;const t=(s+o)/2;this.offsetY=-t*this.currentScale+this.mapCanvas.height/2}else{this.currentScale=Math.min(50,r),this.offsetY=-s*this.currentScale+128;const t=(e+i)/2;this.offsetX=-t*this.currentScale+this.mapCanvas.width/2}return void this.updateRecenterBtn(!0)}}const t=this.mapCanvas.width/e,s=this.mapCanvas.height/e;this.currentScale=Math.max(.1,Math.min(t,s)),this.offsetY=-2048*this.currentScale+this.mapCanvas.height/2,this.offsetX=-2048*this.currentScale+this.mapCanvas.width/2,this.updateRecenterBtn(!0)}updateRecenterBtn(t){t?this.recenterButton.classList.add("btn--hide"):this.recenterButton.classList.remove("btn--hide")}updateHovered(t,e){if(this.hoveredIndex=void 0!==t&&void 0!==e?[t,e]:void 0,this.hoveredIndex?.[0]!==t&&this.hoveredIndex?.[1]!==e){const s=new CustomEvent("mt-map:point-hover",{bubbles:!1,detail:{id:t,index:e}});this.dispatchEvent(s)}}wheelEvent=t=>{t.preventDefault();const e=this.mapCanvas.getBoundingClientRect(),s=r(t.clientX-e.left),i=r(t.clientY-e.top),o=-.1*Math.sign(t.deltaY);this.doZoom(o,s,i)};doZoom=(t,e,s)=>{const i=(e-this.offsetX)/this.currentScale,o=(s-this.offsetY)/this.currentScale;let a=this.currentScale*(1+t);a=Math.max(.1,Math.min(50,a)),a!==this.currentScale&&(this.currentScale=a,this.offsetX=e-i*this.currentScale,this.offsetY=s-o*this.currentScale,this.updateRecenterBtn(!1))};zoomInClick=()=>{const t=this.mapCanvas.getBoundingClientRect(),e=r(t.width/2),s=r(t.height/2);this.doZoom(.2,e,s)};zoomOutClick=()=>{const t=this.mapCanvas.getBoundingClientRect(),e=r(t.width/2),s=r(t.height/2);this.doZoom(-.2,e,s)};mouseMoveEvent=a=>{a.preventDefault();const n=this.mapCanvas.getBoundingClientRect(),h=a.clientX??a.touches[0].clientX,l=a.clientY??a.touches[0].clientY,d=h-n.left,p=l-n.top;if(this.isPointDragging&&void 0!==this.selectedIndex&&this.selectedPoint){this.selectedPoint.mapPosition.x=(r(d)-this.offsetX)/this.currentScale,this.selectedPoint.mapPosition.y=(r(p)-this.offsetY)/this.currentScale;const t=new CustomEvent("mt-map:point-move",{bubbles:!1,detail:{id:this.selectedIndex[0],index:this.selectedIndex[1],position:(v=this.selectedPoint.mapPosition,{x:v.x/e*o+s,y:v.y/e*o+i})}});this.dispatchEvent(t)}else{var v;if(this.isDragging){this.mapCanvas.style.cursor="grabbing";const t=d-this.lastX,e=p-this.lastY;return this.lastX=d,this.lastY=p,this.offsetX+=r(t),this.offsetY+=r(e),void this.updateRecenterBtn(!1)}if(this.groups){const e=r(d),s=r(p),i=c(),[o,a]=this.selectedIndex??[];let n,h,l=1/0;const v=Object.entries(this.groups);for(let r=0;r<v.length;r++){const[c,d]=v[r];if(d.hoverable)for(let r=0;r<d.points.length;r++){const p=this.getCanvasPosition(o===c&&a===r?this.selectedPoint.mapPosition:d.points[r].mapPosition),v=t(e-p.x,s-p.y);v<=i&&v<=l&&(n=c,h=r,l=v)}}if(this.updateHovered(n,h),void 0!==h&&void 0!==n)return void(this.groups[n].draggable&&n===o&&h===a?this.mapCanvas.style.cursor="move":this.mapCanvas.style.cursor="pointer")}this.mapCanvas.style.cursor="grab"}};clickEvent=()=>{if(this.isDragging)return;if(!this.groups||void 0===this.hoveredIndex||this.selectedIndex?.[0]===this.hoveredIndex[0]&&this.selectedIndex[1]===this.hoveredIndex[1])return;if(!this.groups[this.hoveredIndex[0]].selectable)return;this.mapCanvas.style.cursor="pointer",this.selectedIndex=this.hoveredIndex,this.selectedPoint=n(this.groups[this.selectedIndex[0]].points[this.selectedIndex[1]]);const t=new CustomEvent("mt-map:point-click",{bubbles:!1,detail:{id:this.selectedIndex[0],index:this.selectedIndex[1]}});this.dispatchEvent(t)};mouseDownEvent=e=>{this.isDragging=!0;const s=this.mapCanvas.getBoundingClientRect(),i=e.clientX??e.touches[0].clientX,o=e.clientY??e.touches[0].clientY;if(this.groups&&this.selectedIndex&&this.groups[this.selectedIndex[0]].draggable&&this.selectedPoint){const e=r(i-s.left),a=r(o-s.top),n=c(),h=this.getCanvasPosition(this.selectedPoint.mapPosition);t(e-h.x,a-h.y)<=n&&(this.isPointDragging=!0)}this.lastX=i-s.left,this.lastY=o-s.top};mouseUpEvent=()=>{this.isDragging=!1,this.isPointDragging=!1};resizeEvent=()=>{const t=this.mapCanvas.getBoundingClientRect();this.mapCanvas.width=r(t.width),this.mapCanvas.height=r(t.height),this.updateRecenterBtn(!1),this.drawMap(0,!0)};recenterClick=()=>{this.zoomFit()};showWpWidthClick=()=>{this.showWpWidth=!this.showWpWidth};resizeObserver;connectedCallback(){const t=this.attachShadow({mode:"open"});this.mapCanvas.addEventListener("wheel",this.wheelEvent,{passive:!1}),this.mapCanvas.addEventListener("mousemove",this.mouseMoveEvent,{passive:!1}),this.mapCanvas.addEventListener("touchmove",this.mouseMoveEvent,{passive:!1}),this.mapCanvas.addEventListener("click",this.clickEvent,{passive:!0}),this.mapCanvas.addEventListener("mousedown",this.mouseDownEvent,{passive:!0}),this.mapCanvas.addEventListener("touchstart",this.mouseDownEvent,{passive:!0}),this.mapCanvas.addEventListener("mouseup",this.mouseUpEvent,{passive:!0}),this.mapCanvas.addEventListener("mouseleave",this.mouseUpEvent,{passive:!0}),this.mapCanvas.addEventListener("touchend",this.mouseUpEvent,{passive:!0}),this.recenterButton.addEventListener("click",this.recenterClick,{passive:!0}),this.showWpWidthButton.addEventListener("click",this.showWpWidthClick,{passive:!0}),this.zoomInButton.addEventListener("click",this.zoomInClick,{passive:!0}),this.zoomOutButton.addEventListener("click",this.zoomOutClick,{passive:!0}),this.resizeObserver=new ResizeObserver(this.resizeEvent),this.resizeObserver.observe(this),this.recenterButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M200-120q-33 0-56.5-23.5T120-200v-160h80v160h160v80H200Zm400 0v-80h160v-160h80v160q0 33-23.5 56.5T760-120H600ZM120-600v-160q0-33 23.5-56.5T200-840h160v80H200v160h-80Zm640 0v-160H600v-80h160q33 0 56.5 23.5T840-760v160h-80ZM480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280Zm0-80q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0-120Z"/></svg>\n',this.recenterButton.type="button",this.recenterButton.className="btn centerBtn btn--hide",this.showWpWidthButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M280-280 80-480l200-200 56 56-103 104h494L624-624l56-56 200 200-200 200-56-56 103-104H233l103 104-56 56Z"/></svg>',this.showWpWidthButton.type="button",this.showWpWidthButton.className="btn wpWidthBtn btn--hide",this.zoomInButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M340-540h-40q-17 0-28.5-11.5T260-580q0-17 11.5-28.5T300-620h40v-40q0-17 11.5-28.5T380-700q17 0 28.5 11.5T420-660v40h40q17 0 28.5 11.5T500-580q0 17-11.5 28.5T460-540h-40v40q0 17-11.5 28.5T380-460q-17 0-28.5-11.5T340-500v-40Zm40 220q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l224 224q11 11 11 28t-11 28q-11 11-28 11t-28-11L532-372q-30 24-69 38t-83 14Zm0-80q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg>',this.zoomInButton.type="button",this.zoomInButton.className="btn zoomInBtn",this.zoomOutButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M320-540q-17 0-28.5-11.5T280-580q0-17 11.5-28.5T320-620h120q17 0 28.5 11.5T480-580q0 17-11.5 28.5T440-540H320Zm60 220q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l224 224q11 11 11 28t-11 28q-11 11-28 11t-28-11L532-372q-30 24-69 38t-83 14Zm0-80q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg>',this.zoomOutButton.type="button",this.zoomOutButton.className="btn zoomOutBtn";const e=new CSSStyleSheet;e.insertRule(":host { position: relative; }"),e.insertRule("canvas { width: 100%; height: 100%; }"),e.insertRule(".btn { display: flex; position: absolute; bottom: 8px; right: 8px; background: rgba(0,0,0,0.6); border: none; padding: 4px; border-radius: 4px; cursor: pointer; }"),e.insertRule(".btn.zoomInBtn { bottom: 48px; }"),e.insertRule(".btn.centerBtn { bottom: 88px; }"),e.insertRule(".btn.wpWidthBtn { right: 48px; }"),e.insertRule(".btn--hide { display: none !important; }"),t.adoptedStyleSheets=[e],t.appendChild(this.zoomInButton),t.appendChild(this.zoomOutButton),t.appendChild(this.recenterButton),t.appendChild(this.showWpWidthButton),t.appendChild(this.mapCanvas);const s=this.mapCanvas.getBoundingClientRect();this.mapCanvas.width=r(s.width),this.mapCanvas.height=r(s.height),this.zoomFit(),window.requestAnimationFrame(this.drawMap)}disconnectedCallback(){this.mapCanvas.removeEventListener("wheel",this.wheelEvent),this.mapCanvas.removeEventListener("mousemove",this.mouseMoveEvent),this.mapCanvas.removeEventListener("touchmove",this.mouseMoveEvent),this.mapCanvas.removeEventListener("click",this.clickEvent),this.mapCanvas.removeEventListener("mousedown",this.mouseDownEvent),this.mapCanvas.removeEventListener("touchstart",this.mouseDownEvent),this.mapCanvas.removeEventListener("mouseup",this.mouseUpEvent),this.mapCanvas.removeEventListener("mouseleave",this.mouseUpEvent),this.mapCanvas.removeEventListener("touchend",this.mouseUpEvent),this.recenterButton.removeEventListener("click",this.recenterClick),this.showWpWidthButton.removeEventListener("click",this.showWpWidthClick),this.zoomInButton.removeEventListener("click",this.zoomInClick),this.zoomOutButton.removeEventListener("click",this.zoomOutClick),this.resizeObserver?.disconnect(),void 0!==this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId)}attributeChangedCallback(t,e,s){"map"===t&&s!==e?(this.mapImage=new Image,this.mapLoaded=!1,this.mapImage.onload=()=>{this.mapLoaded=!0},this.mapImage.src=s??""):"road"===t&&s!==e&&(this.roadImage=new Image,this.roadLoaded=!1,this.roadImage.onload=()=>{this.roadLoaded=!0},this.roadImage.src=s??"")}};customElements.define("mt-map",d);export{d as MotorTownMap};